"use strict";var _e=Object.create;var D=Object.defineProperty;var pe=Object.getOwnPropertyDescriptor;var ye=Object.getOwnPropertyNames;var me=Object.getPrototypeOf,xe=Object.prototype.hasOwnProperty;var f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ge=(e,t)=>{for(var r in t)D(e,r,{get:t[r],enumerable:!0})},F=(e,t,r,u)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ye(t))!xe.call(e,n)&&n!==r&&D(e,n,{get:()=>t[n],enumerable:!(u=pe(t,n))||u.enumerable});return e};var qe=(e,t,r)=>(r=e!=null?_e(me(e)):{},F(t||!e||!e.__esModule?D(r,"default",{value:e,enumerable:!0}):r,e)),De=e=>F(D({},"__esModule",{value:!0}),e);var k=f(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.default=Ie;var Pe=Me(require("crypto"));function Me(e){return e&&e.__esModule?e:{default:e}}var M=new Uint8Array(256),P=M.length;function Ie(){return P>M.length-16&&(Pe.default.randomFillSync(M),P=0),M.slice(P,P+=16)}});var K=f(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.default=void 0;var Oe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;I.default=Oe});var m=f(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.default=void 0;var he=we(K());function we(e){return e&&e.__esModule?e:{default:e}}function Re(e){return typeof e=="string"&&he.default.test(e)}var Ae=Re;O.default=Ae});var x=f(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.default=void 0;var Ne=Ue(m());function Ue(e){return e&&e.__esModule?e:{default:e}}var i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).substr(1));function Se(e,t=0){let r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,Ne.default)(r))throw TypeError("Stringified UUID is invalid");return r}var Ce=Se;h.default=Ce});var Q=f(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.default=void 0;var Le=z(k()),Te=z(x());function z(e){return e&&e.__esModule?e:{default:e}}var $,B,G=0,b=0;function Ee(e,t,r){let u=t&&r||0,n=t||new Array(16);e=e||{};let s=e.node||$,d=e.clockseq!==void 0?e.clockseq:B;if(s==null||d==null){let l=e.random||(e.rng||Le.default)();s==null&&(s=$=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),d==null&&(d=B=(l[6]<<8|l[7])&16383)}let c=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:b+1,p=c-G+(a-b)/1e4;if(p<0&&e.clockseq===void 0&&(d=d+1&16383),(p<0||c>G)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");G=c,b=a,B=d,c+=122192928e5;let g=((c&268435455)*1e4+a)%4294967296;n[u++]=g>>>24&255,n[u++]=g>>>16&255,n[u++]=g>>>8&255,n[u++]=g&255;let q=c/4294967296*1e4&268435455;n[u++]=q>>>8&255,n[u++]=q&255,n[u++]=q>>>24&15|16,n[u++]=q>>>16&255,n[u++]=d>>>8|128,n[u++]=d&255;for(let l=0;l<6;++l)n[u+l]=s[l];return t||(0,Te.default)(n)}var ke=Ee;w.default=ke});var J=f(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.default=void 0;var Be=Ge(m());function Ge(e){return e&&e.__esModule?e:{default:e}}function be(e){if(!(0,Be.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Je=be;R.default=Je});var H=f(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.default=$e;y.URL=y.DNS=void 0;var He=V(x()),Fe=V(J());function V(e){return e&&e.__esModule?e:{default:e}}function Ke(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var W="6ba7b810-9dad-11d1-80b4-00c04fd430c8";y.DNS=W;var X="6ba7b811-9dad-11d1-80b4-00c04fd430c8";y.URL=X;function $e(e,t,r){function u(n,s,d,c){if(typeof n=="string"&&(n=Ke(n)),typeof s=="string"&&(s=(0,Fe.default)(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+n.length);if(a.set(s),a.set(n,s.length),a=r(a),a[6]=a[6]&15|t,a[8]=a[8]&63|128,d){c=c||0;for(let p=0;p<16;++p)d[c+p]=a[p];return d}return(0,He.default)(a)}try{u.name=e}catch{}return u.DNS=W,u.URL=X,u}});var Y=f(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var ze=Qe(require("crypto"));function Qe(e){return e&&e.__esModule?e:{default:e}}function Ve(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),ze.default.createHash("md5").update(e).digest()}var We=Ve;A.default=We});var j=f(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.default=void 0;var Xe=Z(H()),Ye=Z(Y());function Z(e){return e&&e.__esModule?e:{default:e}}var Ze=(0,Xe.default)("v3",48,Ye.default),je=Ze;N.default=je});var te=f(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.default=void 0;var et=ee(k()),tt=ee(x());function ee(e){return e&&e.__esModule?e:{default:e}}function rt(e,t,r){e=e||{};let u=e.random||(e.rng||et.default)();if(u[6]=u[6]&15|64,u[8]=u[8]&63|128,t){r=r||0;for(let n=0;n<16;++n)t[r+n]=u[n];return t}return(0,tt.default)(u)}var ut=rt;U.default=ut});var re=f(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.default=void 0;var nt=it(require("crypto"));function it(e){return e&&e.__esModule?e:{default:e}}function at(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),nt.default.createHash("sha1").update(e).digest()}var ft=at;S.default=ft});var ne=f(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.default=void 0;var lt=ue(H()),dt=ue(re());function ue(e){return e&&e.__esModule?e:{default:e}}var st=(0,lt.default)("v5",80,dt.default),ot=st;C.default=ot});var ie=f(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.default=void 0;var ct="00000000-0000-0000-0000-000000000000";L.default=ct});var ae=f(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.default=void 0;var vt=_t(m());function _t(e){return e&&e.__esModule?e:{default:e}}function pt(e){if(!(0,vt.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var yt=pt;T.default=yt});var fe=f(o=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});Object.defineProperty(o,"v1",{enumerable:!0,get:function(){return mt.default}});Object.defineProperty(o,"v3",{enumerable:!0,get:function(){return xt.default}});Object.defineProperty(o,"v4",{enumerable:!0,get:function(){return gt.default}});Object.defineProperty(o,"v5",{enumerable:!0,get:function(){return qt.default}});Object.defineProperty(o,"NIL",{enumerable:!0,get:function(){return Dt.default}});Object.defineProperty(o,"version",{enumerable:!0,get:function(){return Pt.default}});Object.defineProperty(o,"validate",{enumerable:!0,get:function(){return Mt.default}});Object.defineProperty(o,"stringify",{enumerable:!0,get:function(){return It.default}});Object.defineProperty(o,"parse",{enumerable:!0,get:function(){return Ot.default}});var mt=_(Q()),xt=_(j()),gt=_(te()),qt=_(ne()),Dt=_(ie()),Pt=_(ae()),Mt=_(m()),It=_(x()),Ot=_(J());function _(e){return e&&e.__esModule?e:{default:e}}});var At={};ge(At,{handleCreateDriver:()=>wt,handleGetDriver:()=>Rt});module.exports=De(At);var v=qe(fe(),1),zt=v.default.v1,Qt=v.default.v3,le=v.default.v4,Vt=v.default.v5,Wt=v.default.NIL,Xt=v.default.version,Yt=v.default.validate,Zt=v.default.stringify,jt=v.default.parse;var de=require("aws-sdk"),se=new de.DynamoDB.DocumentClient,oe="challenge-cloud-native-driver-mgmt-ts",ht=({id:e,firstname:t,lastname:r,driverLicenseId:u})=>({id:e,firstname:t,lastname:r,driverLicenseId:u}),ce=async e=>{let{id:t,lastname:r,driverLicenseId:u}=e;return await se.put({TableName:oe,Item:{id:t,lastname:r,driverLicenseId:u}}).promise(),e},ve=async e=>{let{Item:t}=await se.get({TableName:oe,Key:{id:e}}).promise();return t?ht(t):null};var wt=async e=>{if(e.body==null)return{statusCode:400,body:JSON.stringify({message:"invalid input"})};let t=await ce({id:le(),...JSON.parse(e.body)});return{statusCode:201,body:JSON.stringify(t)}},Rt=async e=>{var u;let t=(u=e.pathParameters)==null?void 0:u.id;if(t==null)return{statusCode:400,body:"path parameter missing"};let r=await ve(t);return{statusCode:200,body:JSON.stringify(r)}};0&&(module.exports={handleCreateDriver,handleGetDriver});
//# sourceMappingURL=index.js.map
